<script lang="ts" setup>
const { footer } = {
  "footer": {
    "phones": [
      {
        "id": 1,
        "label": "+7 (912) 301 71 31",
        "to": "+79123017131"
      },
      {
        "id": 2,
        "label": "+7 (912) 301 71 31",
        "to": "+79123017131"
      }
    ],
    "email": "arch-penza@mail.ru",
    "address": "г. Пенза, ул. Металлистов, 8",
    "copyright": "© ООО «Архитектор», ИНН 9999999999"
  }
}

const { handleCallback } = useHandleCallback()

const highlightedEmail = computed(() => {
  if (!footer.email) return ''

  return footer.email.replace(/(@)/, '<span class="footer--highlight">$1</span>')
})
</script>

<template>
  <footer class="footer">
    <div class="container">
      <div class="footer__top">
        <div class="footer__top-item">
          <div class="footer__top-label typo-p3">Контакты для связи</div>
          <a v-for="item in footer.phones" :key="item.id" :href="`tel:${item.to}`" class="typo-p1 gsap-draw-line">
            <span>{{ item.label }}</span>
            <div class="gsap-draw-line-box" />
          </a>
          <a :href="`mailto:${footer.email}`" class="typo-p1 gsap-draw-line">
            <span v-html="highlightedEmail" />
            <div class="gsap-draw-line-box" />
          </a>
        </div>
        <div class="footer__top-item">
          <div class="footer__top-label typo-p3">Офис</div>
          <p class="typo-p1">{{ footer.address }}</p>
        </div>
        <div class="footer__top-item">
          <p class="footer__top-title typo-h4">Остались вопросы или нужна консультация?</p>
          <p class="footer__top-description typo-p3">Оставьте заявку, и наш менеджер свяжется с вами в течение часа</p>
          <button class="btn btn--primary" @click="handleCallback">Оставить заявку</button>
        </div>
      </div>
      <div class="footer__bottom typo-p4">
        <p>{{ footer.copyright }}</p>
        <NuxtLink to="/politika/" target="_blank" class="footer__bottom-politika gsap-draw-line">
          <span>Политика конфиденциальности</span>
          <div class="gsap-draw-line-box" />
        </NuxtLink>
        <NuxtLink to="https://matchagency.ru/" target="_blank" class="footer__brand">
          <svg width="131" height="21" viewBox="0 0 131 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M4.26 15.4423C3.636 15.4423 3.056 15.2943 2.52 14.9983C1.984 14.7023 1.548 14.2423 1.212 13.6183C0.884 12.9863 0.72 12.1743 0.72 11.1823V10.9423C0.72 10.2223 0.816 9.60227 1.008 9.08227C1.2 8.56227 1.46 8.13427 1.788 7.79827C2.116 7.46227 2.492 7.21427 2.916 7.05427C3.348 6.88627 3.796 6.80227 4.26 6.80227C4.716 6.80227 5.132 6.86227 5.508 6.98226C5.892 7.10227 6.228 7.27427 6.516 7.49827C6.804 7.72227 7.036 7.99827 7.212 8.32627C7.396 8.65427 7.512 9.02627 7.56 9.44227H6.36C6.248 8.89827 6.012 8.49027 5.652 8.21827C5.292 7.94627 4.828 7.81027 4.26 7.81027C3.868 7.81027 3.492 7.91027 3.132 8.11027C2.772 8.31027 2.48 8.64227 2.256 9.10627C2.032 9.56227 1.92 10.1743 1.92 10.9423V11.1823C1.92 11.7903 1.988 12.3023 2.124 12.7183C2.268 13.1343 2.456 13.4703 2.688 13.7263C2.92 13.9743 3.172 14.1543 3.444 14.2663C3.724 14.3783 3.996 14.4343 4.26 14.4343C4.884 14.4343 5.372 14.2823 5.724 13.9783C6.076 13.6743 6.288 13.2823 6.36 12.8023H7.56C7.496 13.2663 7.368 13.6663 7.176 14.0023C6.984 14.3383 6.74 14.6143 6.444 14.8303C6.156 15.0383 5.824 15.1943 5.448 15.2983C5.08 15.3943 4.684 15.4423 4.26 15.4423ZM9.11625 15.3223V8.96227H10.1003V10.1623C10.1963 9.90627 10.3283 9.68227 10.4963 9.49027C10.6643 9.29027 10.8683 9.13427 11.1083 9.02227C11.3563 8.90227 11.6323 8.84227 11.9363 8.84227C12.0963 8.84227 12.2243 8.85027 12.3203 8.86627C12.4243 8.88227 12.5163 8.90227 12.5963 8.92627V9.91027C12.4923 9.87027 12.3883 9.84227 12.2843 9.82627C12.1883 9.81027 12.0523 9.80227 11.8763 9.80227C11.5563 9.80227 11.2683 9.87827 11.0123 10.0303C10.7563 10.1823 10.5523 10.3943 10.4003 10.6663C10.2483 10.9303 10.1723 11.2423 10.1723 11.6023V15.3223H9.11625ZM16.3148 15.4423C15.7788 15.4423 15.2748 15.3263 14.8028 15.0943C14.3388 14.8623 13.9628 14.5063 13.6748 14.0263C13.3948 13.5463 13.2548 12.9383 13.2548 12.2023V11.9623C13.2548 11.2583 13.3908 10.6783 13.6628 10.2223C13.9348 9.75827 14.2948 9.41427 14.7428 9.19027C15.1908 8.95827 15.6748 8.84227 16.1948 8.84227C17.1308 8.84227 17.8548 9.09827 18.3668 9.61027C18.8788 10.1223 19.1348 10.8463 19.1348 11.7823V12.4543H14.3108C14.3108 12.9503 14.4108 13.3463 14.6108 13.6423C14.8188 13.9383 15.0748 14.1543 15.3788 14.2903C15.6908 14.4183 16.0028 14.4823 16.3148 14.4823C16.7948 14.4823 17.1628 14.4023 17.4188 14.2423C17.6828 14.0823 17.8708 13.8623 17.9828 13.5823H19.0148C18.8868 14.1903 18.5708 14.6543 18.0668 14.9743C17.5708 15.2863 16.9868 15.4423 16.3148 15.4423ZM16.2548 9.80227C15.9268 9.80227 15.6148 9.86627 15.3188 9.99427C15.0228 10.1143 14.7788 10.3063 14.5868 10.5703C14.4028 10.8343 14.3108 11.1743 14.3108 11.5903H18.1388C18.1308 11.1503 18.0388 10.8023 17.8628 10.5463C17.6948 10.2823 17.4708 10.0943 17.1908 9.98227C16.9108 9.86227 16.5988 9.80227 16.2548 9.80227ZM22.4478 15.4423C21.9838 15.4423 21.5878 15.3583 21.2598 15.1903C20.9398 15.0143 20.6958 14.7783 20.5278 14.4823C20.3598 14.1783 20.2758 13.8383 20.2758 13.4623C20.2758 12.8303 20.4598 12.3743 20.8278 12.0943C21.2038 11.8143 21.7398 11.6743 22.4358 11.6743H24.4998V11.2423C24.4998 10.6983 24.3758 10.3223 24.1278 10.1143C23.8878 9.90627 23.5238 9.80227 23.0358 9.80227C22.5798 9.80227 22.2478 9.89027 22.0398 10.0663C21.8318 10.2343 21.7158 10.4263 21.6918 10.6423H20.6358C20.6598 10.2983 20.7758 9.99427 20.9838 9.73027C21.1918 9.45827 21.4758 9.24227 21.8358 9.08227C22.1958 8.92227 22.6158 8.84227 23.0958 8.84227C23.5998 8.84227 24.0358 8.92227 24.4038 9.08227C24.7718 9.23427 25.0558 9.47827 25.2558 9.81427C25.4558 10.1423 25.5558 10.5783 25.5558 11.1223V13.7023C25.5558 14.0383 25.5558 14.3343 25.5558 14.5903C25.5638 14.8383 25.5838 15.0823 25.6158 15.3223H24.6918C24.6678 15.1383 24.6518 14.9663 24.6438 14.8063C24.6358 14.6383 24.6318 14.4503 24.6318 14.2423C24.4638 14.5783 24.1918 14.8623 23.8158 15.0943C23.4398 15.3263 22.9838 15.4423 22.4478 15.4423ZM22.6758 14.4823C23.0118 14.4823 23.3158 14.4223 23.5878 14.3023C23.8678 14.1823 24.0878 14.0063 24.2478 13.7743C24.4158 13.5423 24.4998 13.2583 24.4998 12.9223V12.4903H22.6158C22.2238 12.4903 21.9158 12.5703 21.6918 12.7303C21.4678 12.8823 21.3558 13.1263 21.3558 13.4623C21.3558 13.7583 21.4598 14.0023 21.6678 14.1943C21.8838 14.3863 22.2198 14.4823 22.6758 14.4823ZM29.6438 15.3823C29.1958 15.3823 28.8278 15.3143 28.5398 15.1783C28.2598 15.0423 28.0518 14.8383 27.9158 14.5663C27.7878 14.2863 27.7238 13.9383 27.7238 13.5223V9.89827H26.7638V8.96227H27.7238V7.52227H28.7798V8.96227H30.4838V9.89827H28.7798V13.4023C28.7798 13.7623 28.8558 14.0223 29.0078 14.1823C29.1598 14.3423 29.4518 14.4223 29.8838 14.4223C30.1238 14.4223 30.3638 14.4103 30.6038 14.3863V15.3223C30.4518 15.3383 30.2998 15.3503 30.1478 15.3583C29.9958 15.3743 29.8278 15.3823 29.6438 15.3823ZM34.7484 15.4423C34.2124 15.4423 33.7084 15.3263 33.2364 15.0943C32.7724 14.8623 32.3964 14.5063 32.1084 14.0263C31.8284 13.5463 31.6884 12.9383 31.6884 12.2023V11.9623C31.6884 11.2583 31.8244 10.6783 32.0964 10.2223C32.3684 9.75827 32.7284 9.41427 33.1764 9.19027C33.6244 8.95827 34.1084 8.84227 34.6284 8.84227C35.5644 8.84227 36.2884 9.09827 36.8004 9.61027C37.3124 10.1223 37.5684 10.8463 37.5684 11.7823V12.4543H32.7444C32.7444 12.9503 32.8444 13.3463 33.0444 13.6423C33.2524 13.9383 33.5084 14.1543 33.8124 14.2903C34.1244 14.4183 34.4364 14.4823 34.7484 14.4823C35.2284 14.4823 35.5964 14.4023 35.8524 14.2423C36.1164 14.0823 36.3044 13.8623 36.4164 13.5823H37.4484C37.3204 14.1903 37.0044 14.6543 36.5004 14.9743C36.0044 15.2863 35.4204 15.4423 34.7484 15.4423ZM34.6884 9.80227C34.3604 9.80227 34.0484 9.86627 33.7524 9.99427C33.4564 10.1143 33.2124 10.3063 33.0204 10.5703C32.8364 10.8343 32.7444 11.1743 32.7444 11.5903H36.5724C36.5644 11.1503 36.4724 10.8023 36.2964 10.5463C36.1284 10.2823 35.9044 10.0943 35.6244 9.98227C35.3444 9.86227 35.0324 9.80227 34.6884 9.80227ZM41.2894 15.4423C40.7694 15.4423 40.3094 15.3223 39.9094 15.0823C39.5094 14.8423 39.1974 14.4823 38.9734 14.0023C38.7574 13.5223 38.6494 12.9223 38.6494 12.2023V11.9623C38.6494 11.2903 38.7614 10.7223 38.9854 10.2583C39.2174 9.79427 39.5294 9.44227 39.9214 9.20227C40.3214 8.96227 40.7774 8.84227 41.2894 8.84227C41.8014 8.84227 42.2454 8.95427 42.6214 9.17827C43.0054 9.40227 43.2894 9.71027 43.4734 10.1023V6.92227H44.5294V15.3223H43.5454V14.1223C43.3854 14.5143 43.1054 14.8343 42.7054 15.0823C42.3054 15.3223 41.8334 15.4423 41.2894 15.4423ZM41.5294 14.5063C41.9134 14.5063 42.2494 14.4263 42.5374 14.2663C42.8334 14.0983 43.0614 13.8703 43.2214 13.5823C43.3894 13.2863 43.4734 12.9463 43.4734 12.5623V11.6023C43.4734 11.2583 43.3894 10.9503 43.2214 10.6783C43.0614 10.3983 42.8334 10.1783 42.5374 10.0183C42.2494 9.85827 41.9134 9.77827 41.5294 9.77827C41.0174 9.77827 40.5854 9.97027 40.2334 10.3543C39.8814 10.7303 39.7054 11.2663 39.7054 11.9623V12.2023C39.7054 12.9543 39.8814 13.5263 40.2334 13.9183C40.5854 14.3103 41.0174 14.5063 41.5294 14.5063ZM52.6922 15.4423C52.1482 15.4423 51.6762 15.3223 51.2762 15.0823C50.8762 14.8343 50.5962 14.5143 50.4362 14.1223V15.3223H49.4522V6.92227H50.5082V10.1023C50.6922 9.71027 50.9722 9.40227 51.3482 9.17827C51.7322 8.95427 52.1802 8.84227 52.6922 8.84227C53.4842 8.84227 54.1202 9.10627 54.6002 9.63427C55.0882 10.1543 55.3322 10.9303 55.3322 11.9623V12.2023C55.3322 12.9223 55.2202 13.5223 54.9962 14.0023C54.7802 14.4823 54.4722 14.8423 54.0722 15.0823C53.6802 15.3223 53.2202 15.4423 52.6922 15.4423ZM52.4522 14.5063C52.9722 14.5063 53.4042 14.3103 53.7482 13.9183C54.1002 13.5263 54.2762 12.9543 54.2762 12.2023V11.9623C54.2762 11.2663 54.1002 10.7303 53.7482 10.3543C53.4042 9.97027 52.9722 9.77827 52.4522 9.77827C52.0682 9.77827 51.7282 9.85827 51.4322 10.0183C51.1442 10.1783 50.9162 10.3983 50.7482 10.6783C50.5882 10.9503 50.5082 11.2583 50.5082 11.6023V12.5623C50.5082 12.9463 50.5882 13.2863 50.7482 13.5823C50.9162 13.8703 51.1442 14.0983 51.4322 14.2663C51.7282 14.4263 52.0682 14.5063 52.4522 14.5063ZM57.4406 17.8423C57.3206 17.8423 57.2006 17.8303 57.0806 17.8063V16.8463C57.2006 16.8703 57.3206 16.8823 57.4406 16.8823C57.6006 16.8823 57.7326 16.8423 57.8366 16.7623C57.9486 16.6903 58.0606 16.5423 58.1726 16.3183C58.2846 16.0943 58.4206 15.7623 58.5806 15.3223L55.8806 8.96227H57.0566L59.1206 14.1223L60.9926 8.96227H62.1206L59.7206 15.3223C59.4966 15.9223 59.2806 16.4063 59.0726 16.7743C58.8726 17.1423 58.6446 17.4103 58.3886 17.5783C58.1406 17.7543 57.8246 17.8423 57.4406 17.8423Z"
              fill="currentcolor"
            />
            <g clip-path="url(#clip0_833_2453)">
              <path d="M131 20.3772H68V15.7812H68.9476V19.3879H130.052V15.7812H131V20.3772Z" fill="currentcolor" />
              <path
                d="M81.717 15.6299L81.7019 8.62911L78.2226 14.4229H77.3452L73.8658 8.71964V15.6299H71.99V5.06836H73.6086L77.8141 12.0691L81.9439 5.06836H83.5626L83.5777 15.6299H81.717Z"
                fill="currentcolor"
              />
              <path
                d="M93.3051 13.1856H88.0103L86.9665 15.6299H84.9395L89.7046 5.06836H91.641L96.4213 15.6299H94.3641L93.3051 13.1856ZM92.6545 11.6467L90.6578 7.02979L88.6761 11.6467H92.6545Z"
                fill="currentcolor"
              />
              <path
                d="M99.3837 6.72803H95.8743V5.06836H104.86V6.72803H101.35V15.6299H99.3837V6.72803Z"
                fill="currentcolor"
              />
              <path
                d="M111.09 15.7813C110.021 15.7813 109.053 15.5499 108.186 15.0872C107.329 14.6145 106.653 13.9657 106.159 13.1409C105.674 12.316 105.432 11.3857 105.432 10.3497C105.432 9.31358 105.68 8.38315 106.174 7.55836C106.668 6.73354 107.344 6.0898 108.201 5.62709C109.068 5.15435 110.036 4.91797 111.105 4.91797C111.973 4.91797 112.764 5.06884 113.48 5.37062C114.196 5.67236 114.802 6.10991 115.296 6.68325L114.025 7.87521C113.259 7.05039 112.316 6.63799 111.196 6.63799C110.47 6.63799 109.819 6.79893 109.245 7.12081C108.67 7.43263 108.221 7.87017 107.898 8.43345C107.576 8.99673 107.414 9.63546 107.414 10.3497C107.414 11.0637 107.576 11.7025 107.898 12.2657C108.221 12.8291 108.67 13.2717 109.245 13.5935C109.819 13.9054 110.47 14.0613 111.196 14.0613C112.316 14.0613 113.259 13.6438 114.025 12.8089L115.296 14.0159C114.802 14.5893 114.191 15.0269 113.465 15.3286C112.749 15.6304 111.958 15.7813 111.09 15.7813Z"
                fill="currentcolor"
              />
              <path
                d="M126.589 5.06836V15.6299H124.622V11.1035H119.146V15.6299H117.179V5.06836H119.146V9.42876H124.622V5.06836H126.589Z"
                fill="currentcolor"
              />
              <path d="M131 4.91827H130.052V1.3115H68.9476V4.91827H68V0.322266H131V4.91827Z" fill="currentcolor" />
            </g>
            <defs>
              <clipPath id="clip0_833_2453">
                <rect width="63" height="20" fill="white" transform="translate(68 0.322266)" />
              </clipPath>
            </defs>
          </svg>
        </NuxtLink>
      </div>
    </div>
  </footer>
</template>

<style lang="scss">
.footer {
  background-color: $color-neutral-800;
  padding: 40px 0;
  color: #ffffff;

  &__top {
    display: grid;
    gap: 40px;
    margin-bottom: 80px;

    @media (min-width: $tablet-lg) {
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }
  }

  &__top-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;

    &:nth-child(1) {
      @media (min-width: $tablet-lg) {
        grid-column: span 3;
      }
    }

    &:nth-child(2) {
      @media (min-width: $tablet-lg) {
        grid-column: 4 / span 3;
      }
    }

    &:nth-child(3) {
      margin-top: 40px;

      @media (min-width: $tablet-lg) {
        margin-top: 0;
        grid-column: 7 / span 6;
      }
    }

    .btn {
      margin-top: 20px;
      width: 100%;

      @media (min-width: $tablet) {
        width: auto;
      }
    }
  }

  &__top-label {
    color: $color-neutral-200;
  }

  &__top-description {
    color: $color-neutral-200;
  }

  &__bottom {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    color: $color-neutral-200;

    @media (min-width: $tablet) {
      align-items: flex-start;
    }

    @media (min-width: $tablet-lg) {
      flex-direction: row;
      justify-content: space-between;
    }
  }

  &__bottom-politika {
    @media (min-width: $tablet-lg) {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }
  }

  // a {
  //   transition: all 0.2s ease 0s;

  //   @media (hover: hover) {
  //     &:hover {
  //       opacity: 0.6;
  //     }
  //   }
  // }

  &--highlight {
    color: $color-brand-100;
  }
}
</style>
